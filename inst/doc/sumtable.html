<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Nick Huntington-Klein" />

<meta name="date" content="2020-04-01" />

<title>sumtable: Summary Statistics</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">sumtable: Summary Statistics</h1>
<h4 class="author">Nick Huntington-Klein</h4>
<h4 class="date">2020-04-01</h4>



<p>The <code>vtable</code> package serves the purpose of outputting automatic variable documentation that can be easily viewed while continuing to work with data.</p>
<p><code>vtable</code> contains four main functions: <code>vtable()</code> (or <code>vt()</code>), <code>sumtable()</code> (or <code>st()</code>), <code>labeltable()</code>, and <code>dftoHTML()</code>/<code>dftoLaTeX()</code>. This vignette focuses on <code>sumtable()</code>.</p>
<p><code>sumtable()</code> takes a dataset and outputs a formatted summary statistics table. Summary statistics an be for the whole data set at once or by-group.</p>
<p>There are a huge number of R packages that will make a summary statistics table for you. What does <code>vtable::sumtable()</code> bring that isn’t already there?</p>
<p>First, like other <code>vtable</code> functions, <code>sumtable()</code> by default prints its results to Viewer (in RStudio) or the browser (elsewhere), making it easy to look at information about your data while continuing to work on it.</p>
<p>Second, <code>sumtable()</code> is designed to <em>have nice defaults</em> and be <em>fast to work with</em>. By fast to work with that’s both in the sense that you should just be able to ask for a sumtable and have it pretty much be what you want immediately, and also in the sense of trying to keep the number of keystrokes low (thus the <code>st()</code> shortcut, and the intent of not having to set a bunch of options).</p>
<p><code>sumtable()</code> has customization options, but they’re certainly not as extensive as with a package like <code>gtsummary</code> or <code>arsenal</code>. Nor should they be! If you want full control over your table, those packages are already great, we don’t need another package that does that.</p>
<p>However, if you want the kind of table <code>sumtable()</code> produces (and I think a lot of you do!) then it’s perfect and easy. This makes <code>sumtable()</code> very similar in spirit to the summary statistics functionality of <code>stargazer::stargazer()</code>, except with some additional important bonuses, like working with <code>tibble</code>s, factor variables, producing summary statistics by group, and being a summary-statistics-only function so the documentation isn’t entwined with a bunch of regression-table functionality.</p>
<p>Like, look at this. Isn’t this what you basically already want? After loading the package this took eight keystrokes and no option-setting:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(vtable)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">st</span>(iris)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">0.828</td>
<td align="left">4.3</td>
<td align="left">5.1</td>
<td align="left">6.4</td>
<td align="left">7.9</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">0.436</td>
<td align="left">2</td>
<td align="left">2.8</td>
<td align="left">3.3</td>
<td align="left">4.4</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.765</td>
<td align="left">1</td>
<td align="left">1.6</td>
<td align="left">5.1</td>
<td align="left">6.9</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">0.762</td>
<td align="left">0.1</td>
<td align="left">0.3</td>
<td align="left">1.8</td>
<td align="left">2.5</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<hr />
<div id="the-sumtable-function" class="section level1">
<h1>The <code>sumtable()</code> function</h1>
<p><code>sumtable()</code> (or <code>st()</code> for short) syntax follows the following outline:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">sumtable</span>(data,</span>
<span id="cb2-2"><a href="#cb2-2"></a>         <span class="dt">vars=</span><span class="ot">NA</span>,</span>
<span id="cb2-3"><a href="#cb2-3"></a>         <span class="dt">out=</span><span class="ot">NA</span>,</span>
<span id="cb2-4"><a href="#cb2-4"></a>         <span class="dt">file=</span><span class="ot">NA</span>,</span>
<span id="cb2-5"><a href="#cb2-5"></a>         <span class="dt">summ=</span><span class="ot">NA</span>,</span>
<span id="cb2-6"><a href="#cb2-6"></a>         <span class="dt">summ.names=</span><span class="ot">NA</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>         <span class="dt">group=</span><span class="ot">NA</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>         <span class="dt">group.long=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-9"><a href="#cb2-9"></a>         <span class="dt">group.test=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-10"><a href="#cb2-10"></a>         <span class="dt">col.breaks=</span><span class="ot">NA</span>,</span>
<span id="cb2-11"><a href="#cb2-11"></a>         <span class="dt">digits=</span><span class="ot">NA</span>,</span>
<span id="cb2-12"><a href="#cb2-12"></a>         <span class="dt">fixed.digits=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-13"><a href="#cb2-13"></a>         <span class="dt">factor.percent=</span><span class="ot">TRUE</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>         <span class="dt">factor.counts=</span><span class="ot">TRUE</span>,</span>
<span id="cb2-15"><a href="#cb2-15"></a>         <span class="dt">factor.numeric=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-16"><a href="#cb2-16"></a>         <span class="dt">logical.numeric=</span><span class="ot">FALSE</span>,</span>
<span id="cb2-17"><a href="#cb2-17"></a>         <span class="dt">labels=</span><span class="ot">NA</span>,</span>
<span id="cb2-18"><a href="#cb2-18"></a>         <span class="dt">title=</span><span class="st">&#39;Summary Statistics&#39;</span>,</span>
<span id="cb2-19"><a href="#cb2-19"></a>         <span class="dt">note =</span> <span class="ot">NA</span>, </span>
<span id="cb2-20"><a href="#cb2-20"></a>         <span class="dt">anchor=</span><span class="ot">NA</span>,</span>
<span id="cb2-21"><a href="#cb2-21"></a>         <span class="dt">col.width=</span><span class="ot">NA</span>,</span>
<span id="cb2-22"><a href="#cb2-22"></a>         <span class="dt">col.align=</span><span class="ot">NA</span>,</span>
<span id="cb2-23"><a href="#cb2-23"></a>         <span class="dt">align=</span><span class="ot">NA</span>,</span>
<span id="cb2-24"><a href="#cb2-24"></a>         <span class="dt">opts=</span><span class="kw">list</span>())</span></code></pre></div>
<p>The goal of <code>sumtable()</code> is to take a data set <code>data</code> and output a usually-HTML (but <code>data.frame</code>, <code>kable</code>, and <code>latex</code> options are there too) file with summary statistics for each of the variables in <code>data</code>. There are several options as to how the table will be constructed, and each of these options are explained below. Throughout, the output will be built as <code>kable</code>s since this is an RMarkdown document. However, generally you can leave <code>out</code> at its default and it will publish an HTML table to Viewer (in RStudio) or the browser (otherwise). This will also include some additional information about your data that can’t be demonstrated in this vignette:</p>
<div id="data-and-vars" class="section level2">
<h2><code>data</code> and <code>vars</code></h2>
<p>The <code>data</code> argument can take any <code>data.frame</code>, <code>data.table</code>, <code>tibble</code>, or <code>matrix</code>, as long as it has a valid set of variable names stored in the <code>colnames()</code> attribute.</p>
<p>By default, <code>sumtable</code> will include in the summary statistics table every variable in the data set that is (1) numeric, (2) factor, (3) logical, or (4) a character variable with six or fewer unique values (as a factor), and it will include them in the order they’re in the data.</p>
<p>You can override that variable list with <code>vars</code>, which is just a vector of variable names to include. You can use this to force <code>sumtable</code> to ignore variables you don’t want, or to include variables it doesn’t by default.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">data</span>(LifeCycleSavings)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">st</span>(LifeCycleSavings, <span class="dt">vars =</span> <span class="kw">c</span>(<span class="st">&#39;pop15&#39;</span>,<span class="st">&#39;pop75&#39;</span>))</span></code></pre></div>
</div>
<div id="out" class="section level2">
<h2><code>out</code></h2>
<p>The <code>out</code> option determines what will be done with the resulting summary statistics table. There are several options for <code>out</code>:</p>
<table>
<colgroup>
<col width="22%"></col>
<col width="77%"></col>
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>browser</td>
<td>Loads output in web browser.</td>
</tr>
<tr class="even">
<td>viewer</td>
<td>Loads output in Viewer pane (RStudio only).</td>
</tr>
<tr class="odd">
<td>htmlreturn</td>
<td>Returns HTML code for output file.</td>
</tr>
<tr class="even">
<td>return</td>
<td>Returns summary table in data frame format. Depending on options, the data frame may be entirely character variables.</td>
</tr>
<tr class="odd">
<td>kable</td>
<td>Returns a <code>knitr::kable()</code></td>
</tr>
<tr class="even">
<td>latex</td>
<td>Returns a LaTeX table.</td>
</tr>
<tr class="odd">
<td>latexpage</td>
<td>Returns an independently-buildable LaTeX document.</td>
</tr>
</tbody>
</table>
<p>By default, <code>sumtable</code> will select ‘viewer’ if running in RStudio, and ‘browser’ otherwise. If it’s being built in an RMarkdown document with <code>knitr</code>, it will default to ‘kable’.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">data</span>(LifeCycleSavings)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">sumtable</span>(LifeCycleSavings)</span>
<span id="cb4-3"><a href="#cb4-3"></a>vartable &lt;-<span class="st"> </span><span class="kw">vtable</span>(LifeCycleSavings,<span class="dt">out=</span><span class="st">&#39;return&#39;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#I can easily \input this into my LaTeX doc:</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="kw">vt</span>(LifeCycleSavings,<span class="dt">out=</span><span class="st">&#39;latex&#39;</span>,<span class="dt">file=</span><span class="st">&#39;mytable1.tex&#39;</span>)</span></code></pre></div>
</div>
<div id="file" class="section level2">
<h2><code>file</code></h2>
<p>The <code>file</code> argument will write the variable documentation file to an HTML or LaTeX file and save it. Will automatically append ‘html’ or ‘tex’ filetype if the filename does not include a period.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">data</span>(LifeCycleSavings)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">st</span>(LifeCycleSavings,<span class="dt">file=</span><span class="st">&#39;lifecycle_summary&#39;</span>)</span></code></pre></div>
</div>
<div id="summ-and-summ.names" class="section level2">
<h2><code>summ</code> and <code>summ.names</code></h2>
<p><code>summ</code> is the set of summary statistics functions to run and include in the table. It is very flexible, hopefully without being difficult to use.</p>
<p>It takes a character vector in which each element is of the form <code>function(x)</code>, where <code>function(x)</code> is any function that takes a vector and returns a single numeric value. For example, <code>summ=c(&#39;mean(x)&#39;,&#39;median(x)&#39;,&#39;mean(log(x))&#39;)</code> would calculate the mean, median, and mean of the log for each variable. <code>summ.names</code> is just the heading-title of the corresponding <code>summ</code>. So in this example that might be <code>summ.names=c(&#39;Mean&#39;,&#39;Median&#39;,&#39;Mean of Log&#39;)</code>.</p>
<p>Factor variables largely ignore <code>summ</code> (unless <code>factor.numeric = TRUE</code>) and will just report counts in the first column and means/percentages in the second. You may want to consider this when selecting the order you put your <code>summ</code> in if you have both factor and numeric variables.</p>
<p><code>summ</code> treats as special two <code>vtable</code> functions: <code>propNA(x)</code> and <code>countNA(x)</code>, which give the proportion and count of NA values, and the count of non-NA values in the variable, respectively. These two functions are the only functions that include NA values in their calculations.</p>
<p>By default, <code>summ</code> is <code>c(&#39;notNA(x)&#39;, &#39;mean(x)&#39;,   &#39;sd(x)&#39;, &#39;min(x)&#39;, &#39;pctile(x)[25]&#39;, &#39;pctile(x)[75]&#39;, &#39;max(x)&#39;)</code> in ‘one-column’ tables. If there’s more than one column either due to the <code>col.breaks</code> option or the <code>group</code> option, it defaults to <code>c(&#39;notNA(x)&#39;, &#39;mean(x)&#39;, &#39;sd(x)&#39;)</code>. Alternately, if a given column of variables is entirely made up of factor variables, it defaults to <code>c(&#39;sum(x)&#39;,&#39;mean(x)&#39;)</code>. These precise defaults have corresponding default <code>summ.names</code>. If you set your own <code>summ</code> but not <code>summ.names</code>, it will try to guess the name by taking your function, removing <code>(x)</code>, and capitalizing. so ‘mean(x)’ becomes ‘Mean’.</p>
<p>If you want to get complex you can. If there are multiple ‘columns’ of summary statistics and you want different statistics in each column, make <code>summ</code> and <code>summ.names</code> into a list, where each entry is a character vector of the calculations/names you want in that column.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">sumtable</span>(iris,</span>
<span id="cb6-2"><a href="#cb6-2"></a>         <span class="dt">summ=</span><span class="kw">c</span>(<span class="st">&#39;notNA(x)&#39;</span>,</span>
<span id="cb6-3"><a href="#cb6-3"></a>                <span class="st">&#39;mean(x)&#39;</span>,</span>
<span id="cb6-4"><a href="#cb6-4"></a>                <span class="st">&#39;median(x)&#39;</span>,</span>
<span id="cb6-5"><a href="#cb6-5"></a>                <span class="st">&#39;propNA(x)&#39;</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">NotNA</th>
<th align="left">Mean</th>
<th align="left">Median</th>
<th align="left">PropNA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">5.8</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">3</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">4.35</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">1.3</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#Getting complex</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">st</span>(iris, <span class="dt">col.breaks =</span> <span class="dv">4</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>   <span class="dt">summ =</span> <span class="kw">list</span>(</span>
<span id="cb7-4"><a href="#cb7-4"></a>     <span class="kw">c</span>(<span class="st">&#39;notNA(x)&#39;</span>,<span class="st">&#39;mean(x)&#39;</span>,<span class="st">&#39;sd(x^2)&#39;</span>,<span class="st">&#39;min(x)&#39;</span>,<span class="st">&#39;max(x)&#39;</span>),</span>
<span id="cb7-5"><a href="#cb7-5"></a>     <span class="kw">c</span>(<span class="st">&#39;notNA(x)&#39;</span>,<span class="st">&#39;mean(x)&#39;</span>)</span>
<span id="cb7-6"><a href="#cb7-6"></a>   ),</span>
<span id="cb7-7"><a href="#cb7-7"></a>   <span class="dt">summ.names =</span> <span class="kw">list</span>(</span>
<span id="cb7-8"><a href="#cb7-8"></a>     <span class="kw">c</span>(<span class="st">&#39;N&#39;</span>,<span class="st">&#39;Mean&#39;</span>,<span class="st">&#39;SD of X^2&#39;</span>,<span class="st">&#39;Min&#39;</span>,<span class="st">&#39;Max&#39;</span>),</span>
<span id="cb7-9"><a href="#cb7-9"></a>     <span class="kw">c</span>(<span class="st">&#39;Count&#39;</span>,<span class="st">&#39;Percent&#39;</span>)</span>
<span id="cb7-10"><a href="#cb7-10"></a>   ))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">SD of X^2</th>
<th align="left">Min</th>
<th align="left">Max</th>
<th align="left">Variable</th>
<th align="left">Count</th>
<th align="left">Percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">9.922</td>
<td align="left">4.3</td>
<td align="left">7.9</td>
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">2.739</td>
<td align="left">2</td>
<td align="left">4.4</td>
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">12.627</td>
<td align="left">1</td>
<td align="left">6.9</td>
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">1.83</td>
<td align="left">0.1</td>
<td align="left">2.5</td>
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
</tbody>
</table>
</div>
<div id="group-group.long-and-group.test" class="section level2">
<h2><code>group</code>, <code>group.long</code>, and <code>group.test</code></h2>
<p><code>sumtable()</code> allows for the calculation of summary statistics by group.</p>
<p><code>group</code> is a character variable containing the column name in <code>data</code> that you want to calculate summary statistics separately for. At the moment this supports only a single variable, although you can combine multiple variables into a single one yourself before using <code>sumtable</code>.</p>
<p><code>group.long</code> is a flag for whether you want the different group summary statistics stacked side-by-side (<code>group.long = FALSE</code>), making for easier comparisons, or on top of each other (<code>group.long = TRUE</code>), giving things a bit more room to breathe and allowing space for more statistics. Defaults to <code>FALSE</code>.</p>
<p><code>group.test</code>, which is only compatible with <code>group.long = FALSE</code>, performs a test of independence between the variable in <code>group</code> and each of the variables in your summary statistics table. Defaults to <code>FALSE</code>. Default <code>group.test = TRUE</code> behavior is to perform a group F-test (with <code>anova(lm())</code>) for numeric variables, and a chi-squared test (with <code>chisq.test</code>) for factor, logical, and character variables, returning results in the format ‘Test statistic name = Test statistic^significance stars’. If you want to change any of that, instead of <code>group.test = TRUE</code>, set <code>group.test</code> equal to a named list of options that will be send to the <code>opts</code> argument of <code>independence.test</code>. See <code>help(independence.test)</code>.</p>
<p>Be aware that the table produced with <code>group</code> uses multi-column cells. So it will not look quite as nice when outputting to a format that does not support multi-column cells, like <code>out=&#39;kable&#39;</code> (as you see below) or <code>out=&#39;return&#39;</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">st</span>(iris, <span class="dt">group =</span> <span class="st">&#39;Species&#39;</span>, <span class="dt">group.test =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">SD</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">SD</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">SD</th>
<th align="left">Test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Species</td>
<td align="left">setosa</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">versicolor</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">virginica</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Sepal.Length</td>
<td align="left">50</td>
<td align="left">5.006</td>
<td align="left">0.352</td>
<td align="left">50</td>
<td align="left">5.936</td>
<td align="left">0.516</td>
<td align="left">50</td>
<td align="left">6.588</td>
<td align="left">0.636</td>
<td align="left">F=119.265<sup>***</sup></td>
</tr>
<tr class="odd">
<td align="left">Sepal.Width</td>
<td align="left">50</td>
<td align="left">3.428</td>
<td align="left">0.379</td>
<td align="left">50</td>
<td align="left">2.77</td>
<td align="left">0.314</td>
<td align="left">50</td>
<td align="left">2.974</td>
<td align="left">0.322</td>
<td align="left">F=49.16<sup>***</sup></td>
</tr>
<tr class="even">
<td align="left">Petal.Length</td>
<td align="left">50</td>
<td align="left">1.462</td>
<td align="left">0.174</td>
<td align="left">50</td>
<td align="left">4.26</td>
<td align="left">0.47</td>
<td align="left">50</td>
<td align="left">5.552</td>
<td align="left">0.552</td>
<td align="left">F=1180.161<sup>***</sup></td>
</tr>
<tr class="odd">
<td align="left">Petal.Width</td>
<td align="left">50</td>
<td align="left">0.246</td>
<td align="left">0.105</td>
<td align="left">50</td>
<td align="left">1.326</td>
<td align="left">0.198</td>
<td align="left">50</td>
<td align="left">2.026</td>
<td align="left">0.275</td>
<td align="left">F=960.007<sup>***</sup></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">st</span>(iris, <span class="dt">group =</span> <span class="st">&#39;Species&#39;</span>, <span class="dt">group.long =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td align="left">Species: setosa</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td>2</td>
<td align="left">Sepal.Length</td>
<td align="left">50</td>
<td align="left">5.006</td>
<td align="left">0.352</td>
<td align="left">4.3</td>
<td align="left">4.8</td>
<td align="left">5.2</td>
<td align="left">5.8</td>
</tr>
<tr class="odd">
<td>3</td>
<td align="left">Sepal.Width</td>
<td align="left">50</td>
<td align="left">3.428</td>
<td align="left">0.379</td>
<td align="left">2.3</td>
<td align="left">3.2</td>
<td align="left">3.675</td>
<td align="left">4.4</td>
</tr>
<tr class="even">
<td>4</td>
<td align="left">Petal.Length</td>
<td align="left">50</td>
<td align="left">1.462</td>
<td align="left">0.174</td>
<td align="left">1</td>
<td align="left">1.4</td>
<td align="left">1.575</td>
<td align="left">1.9</td>
</tr>
<tr class="odd">
<td>5</td>
<td align="left">Petal.Width</td>
<td align="left">50</td>
<td align="left">0.246</td>
<td align="left">0.105</td>
<td align="left">0.1</td>
<td align="left">0.2</td>
<td align="left">0.3</td>
<td align="left">0.6</td>
</tr>
<tr class="even">
<td>7</td>
<td align="left">Species: versicolor</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td>8</td>
<td align="left">Sepal.Length</td>
<td align="left">50</td>
<td align="left">5.936</td>
<td align="left">0.516</td>
<td align="left">4.9</td>
<td align="left">5.6</td>
<td align="left">6.3</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td>9</td>
<td align="left">Sepal.Width</td>
<td align="left">50</td>
<td align="left">2.77</td>
<td align="left">0.314</td>
<td align="left">2</td>
<td align="left">2.525</td>
<td align="left">3</td>
<td align="left">3.4</td>
</tr>
<tr class="odd">
<td>10</td>
<td align="left">Petal.Length</td>
<td align="left">50</td>
<td align="left">4.26</td>
<td align="left">0.47</td>
<td align="left">3</td>
<td align="left">4</td>
<td align="left">4.6</td>
<td align="left">5.1</td>
</tr>
<tr class="even">
<td>11</td>
<td align="left">Petal.Width</td>
<td align="left">50</td>
<td align="left">1.326</td>
<td align="left">0.198</td>
<td align="left">1</td>
<td align="left">1.2</td>
<td align="left">1.5</td>
<td align="left">1.8</td>
</tr>
<tr class="odd">
<td>13</td>
<td align="left">Species: virginica</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td>14</td>
<td align="left">Sepal.Length</td>
<td align="left">50</td>
<td align="left">6.588</td>
<td align="left">0.636</td>
<td align="left">4.9</td>
<td align="left">6.225</td>
<td align="left">6.9</td>
<td align="left">7.9</td>
</tr>
<tr class="odd">
<td>15</td>
<td align="left">Sepal.Width</td>
<td align="left">50</td>
<td align="left">2.974</td>
<td align="left">0.322</td>
<td align="left">2.2</td>
<td align="left">2.8</td>
<td align="left">3.175</td>
<td align="left">3.8</td>
</tr>
<tr class="even">
<td>16</td>
<td align="left">Petal.Length</td>
<td align="left">50</td>
<td align="left">5.552</td>
<td align="left">0.552</td>
<td align="left">4.5</td>
<td align="left">5.1</td>
<td align="left">5.875</td>
<td align="left">6.9</td>
</tr>
<tr class="odd">
<td>17</td>
<td align="left">Petal.Width</td>
<td align="left">50</td>
<td align="left">2.026</td>
<td align="left">0.275</td>
<td align="left">1.4</td>
<td align="left">1.8</td>
<td align="left">2.3</td>
<td align="left">2.5</td>
</tr>
</tbody>
</table>
</div>
<div id="col.breaks" class="section level2">
<h2><code>col.breaks</code></h2>
<p>Sometimes you don’t need all that much information on each variable, but you have a lot of variables and your table gets long! <code>col.breaks</code> will break up the variables in your table into multiple columns, and put them side by side. Also handy if you want to mix numeric and factor variables - put all your factors in a second column to economize on space. Incompatible with <code>group</code> unless <code>group.long = TRUE</code>.</p>
<p>Set <code>col.breaks</code> to be a numeric vector. <code>sumtable()</code> will start a new column after that many variables have been processed.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#Let&#39;s put species in a column by itself</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#There are five variables here, Species is last,</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#so break the column after the first four variables.</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="kw">st</span>(iris, <span class="dt">col.breaks =</span> <span class="dv">4</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">0.828</td>
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">0.436</td>
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.765</td>
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">0.762</td>
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.3%</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">#Why not three columns?</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="kw">sumtable</span>(mtcars, <span class="dt">col.breaks =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">8</span>))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="left">32</td>
<td align="left">20.091</td>
<td align="left">6.027</td>
<td align="left">drat</td>
<td align="left">32</td>
<td align="left">3.597</td>
<td align="left">0.535</td>
<td align="left">am</td>
<td align="left">32</td>
<td align="left">0.406</td>
<td align="left">0.499</td>
</tr>
<tr class="even">
<td align="left">cyl</td>
<td align="left">32</td>
<td align="left">6.188</td>
<td align="left">1.786</td>
<td align="left">wt</td>
<td align="left">32</td>
<td align="left">3.217</td>
<td align="left">0.978</td>
<td align="left">gear</td>
<td align="left">32</td>
<td align="left">3.688</td>
<td align="left">0.738</td>
</tr>
<tr class="odd">
<td align="left">disp</td>
<td align="left">32</td>
<td align="left">230.722</td>
<td align="left">123.939</td>
<td align="left">qsec</td>
<td align="left">32</td>
<td align="left">17.849</td>
<td align="left">1.787</td>
<td align="left">carb</td>
<td align="left">32</td>
<td align="left">2.812</td>
<td align="left">1.615</td>
</tr>
<tr class="even">
<td align="left">hp</td>
<td align="left">32</td>
<td align="left">146.688</td>
<td align="left">68.563</td>
<td align="left">vs</td>
<td align="left">32</td>
<td align="left">0.438</td>
<td align="left">0.504</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="digits-and-fixed.digits" class="section level2">
<h2><code>digits</code> and <code>fixed.digits</code></h2>
<p><code>digits</code> indicates how many digits after the decimal place should be displayed. <code>fixed.digits</code> determines whether trailing zeros are maintained.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">st</span>(iris, <span class="dt">digits =</span> <span class="dv">5</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.84333</td>
<td align="left">0.82807</td>
<td align="left">4.3</td>
<td align="left">5.1</td>
<td align="left">6.4</td>
<td align="left">7.9</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.05733</td>
<td align="left">0.43587</td>
<td align="left">2</td>
<td align="left">2.8</td>
<td align="left">3.3</td>
<td align="left">4.4</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.7653</td>
<td align="left">1</td>
<td align="left">1.6</td>
<td align="left">5.1</td>
<td align="left">6.9</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.19933</td>
<td align="left">0.76224</td>
<td align="left">0.1</td>
<td align="left">0.3</td>
<td align="left">1.8</td>
<td align="left">2.5</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.333%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.333%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.333%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">st</span>(iris, <span class="dt">digits =</span> <span class="dv">3</span>, <span class="dt">fixed.digits =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">0.828</td>
<td align="left">4.300</td>
<td align="left">5.100</td>
<td align="left">6.400</td>
<td align="left">7.900</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">0.436</td>
<td align="left">2.000</td>
<td align="left">2.800</td>
<td align="left">3.300</td>
<td align="left">4.400</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.765</td>
<td align="left">1.000</td>
<td align="left">1.600</td>
<td align="left">5.100</td>
<td align="left">6.900</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">0.762</td>
<td align="left">0.100</td>
<td align="left">0.300</td>
<td align="left">1.800</td>
<td align="left">2.500</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left">50</td>
<td align="left">33.3%</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="factor-logical-and-character-display-options" class="section level2">
<h2>Factor, Logical, and Character Display Options</h2>
<p>How should factor, logical, and character variables (all of which get turned into factors in the <code>sumtable</code>-making process) be shown on the <code>sumtable()</code>?</p>
<p>In all <code>sumtable()s</code>, there is one row for the name of the factor variable, with the number of nonmissing observations of the variable. Then there’s one row for each of the values (for logicals, TRUE and FALSE become ‘Yes’ and ‘No’), showing the count and percentage (i.e. 50%) of observations with that value.</p>
<p>Set <code>factor.percent = FALSE</code> to report the proportion of observations (.5) instead of the percentage (50%) for the values.</p>
<p>Set <code>factor.counts = FALSE</code> to omit the count for the individual values. So you’ll see the number of nonmissing observations for the variable overall, and then just the percentage/proportion for each of the values.</p>
<p>Set <code>factor.numeric = TRUE</code> and/or <code>logical.numeric = TRUE</code> to ignore all this special treatment for factor/logical variables (respectively), and just treat each of the values as numeric binary variables. <code>factor.numeric</code> also covers character variables.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">st</span>(iris, <span class="dt">factor.percent =</span> <span class="ot">FALSE</span>, <span class="dt">factor.counts =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">0.828</td>
<td align="left">4.3</td>
<td align="left">5.1</td>
<td align="left">6.4</td>
<td align="left">7.9</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">0.436</td>
<td align="left">2</td>
<td align="left">2.8</td>
<td align="left">3.3</td>
<td align="left">4.4</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.765</td>
<td align="left">1</td>
<td align="left">1.6</td>
<td align="left">5.1</td>
<td align="left">6.9</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">0.762</td>
<td align="left">0.1</td>
<td align="left">0.3</td>
<td align="left">1.8</td>
<td align="left">2.5</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left">150</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left"></td>
<td align="left">0.333</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left"></td>
<td align="left">0.333</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left"></td>
<td align="left">0.333</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">st</span>(iris, <span class="dt">factor.numeric =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Sepal.Length</td>
<td align="left">150</td>
<td align="left">5.843</td>
<td align="left">0.828</td>
<td align="left">4.3</td>
<td align="left">5.1</td>
<td align="left">6.4</td>
<td align="left">7.9</td>
</tr>
<tr class="even">
<td align="left">Sepal.Width</td>
<td align="left">150</td>
<td align="left">3.057</td>
<td align="left">0.436</td>
<td align="left">2</td>
<td align="left">2.8</td>
<td align="left">3.3</td>
<td align="left">4.4</td>
</tr>
<tr class="odd">
<td align="left">Petal.Length</td>
<td align="left">150</td>
<td align="left">3.758</td>
<td align="left">1.765</td>
<td align="left">1</td>
<td align="left">1.6</td>
<td align="left">5.1</td>
<td align="left">6.9</td>
</tr>
<tr class="even">
<td align="left">Petal.Width</td>
<td align="left">150</td>
<td align="left">1.199</td>
<td align="left">0.762</td>
<td align="left">0.1</td>
<td align="left">0.3</td>
<td align="left">1.8</td>
<td align="left">2.5</td>
</tr>
<tr class="odd">
<td align="left">Species</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">… setosa</td>
<td align="left">150</td>
<td align="left">0.333</td>
<td align="left">0.473</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">… versicolor</td>
<td align="left">150</td>
<td align="left">0.333</td>
<td align="left">0.473</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">… virginica</td>
<td align="left">150</td>
<td align="left">0.333</td>
<td align="left">0.473</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
</tbody>
</table>
</div>
<div id="labels" class="section level2">
<h2><code>labels</code></h2>
<p>The <code>labels</code> argument will attach variable labels to the variables in <code>data</code>. If variable labels are embedded in <code>data</code> and those labels are what you want, then set <code>labels = TRUE</code>.</p>
<p>If you’d like to set your own labels that aren’t embedded in the data, there are three formats available:</p>
<div id="labels-as-a-vector" class="section level3">
<h3><code>labels</code> as a vector</h3>
<p><code>labels</code> can be set to be a vector of equal length to the number of variables in <code>data</code> (or in <code>vars</code> if that’s set), and in the same order. You can use <code>NA</code>s for padding if you only want labels for some varibles and just want to use the regular variable names for others.</p>
<p>This option is not recommended if you have set <code>group</code>, as it gets tricky to figure out what order to put the labels in.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co">#Note that LifeCycleSavings has five variables</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="kw">data</span>(LifeCycleSavings)</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co">#These variable labels are taken from help(LifeCycleSavings)</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>labs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;numeric aggregate personal savings&#39;</span>,</span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="st">&#39;numeric % of population under 15&#39;</span>,</span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="st">&#39;numeric % of population over 75&#39;</span>,</span>
<span id="cb16-7"><a href="#cb16-7"></a>    <span class="ot">NA</span>,</span>
<span id="cb16-8"><a href="#cb16-8"></a>    <span class="st">&#39;numeric % growth rate of dpi&#39;</span>)</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="kw">sumtable</span>(LifeCycleSavings,<span class="dt">labels=</span>labs)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">numeric aggregate personal savings</td>
<td align="left">50</td>
<td align="left">9.671</td>
<td align="left">4.48</td>
<td align="left">0.6</td>
<td align="left">6.97</td>
<td align="left">12.617</td>
<td align="left">21.1</td>
</tr>
<tr class="even">
<td align="left">numeric % of population under 15</td>
<td align="left">50</td>
<td align="left">35.09</td>
<td align="left">9.152</td>
<td align="left">21.44</td>
<td align="left">26.215</td>
<td align="left">44.065</td>
<td align="left">47.64</td>
</tr>
<tr class="odd">
<td align="left">numeric % of population over 75</td>
<td align="left">50</td>
<td align="left">2.293</td>
<td align="left">1.291</td>
<td align="left">0.56</td>
<td align="left">1.125</td>
<td align="left">3.325</td>
<td align="left">4.7</td>
</tr>
<tr class="even">
<td align="left">dpi</td>
<td align="left">50</td>
<td align="left">1106.758</td>
<td align="left">990.869</td>
<td align="left">88.94</td>
<td align="left">288.207</td>
<td align="left">1795.622</td>
<td align="left">4001.89</td>
</tr>
<tr class="odd">
<td align="left">numeric % growth rate of dpi</td>
<td align="left">50</td>
<td align="left">3.758</td>
<td align="left">2.87</td>
<td align="left">0.22</td>
<td align="left">2.002</td>
<td align="left">4.477</td>
<td align="left">16.71</td>
</tr>
</tbody>
</table>
</div>
<div id="labels-as-a-two-column-data-set" class="section level3">
<h3><code>labels</code> as a two-column data set</h3>
<p><code>labels</code> can be set to a two-column data set (any type will do) where the first column has the variable names, and the second column has the labels. The column names don’t matter.</p>
<p>This approach does <strong>not</strong> require that every variable name in <code>data</code> has a matching label.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co">#Note that LifeCycleSavings has five variables</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#with names &#39;sr&#39;, &#39;pop15&#39;, &#39;pop75&#39;, &#39;dpi&#39;, and &#39;ddpi&#39;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>labs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">nonsensename1 =</span> <span class="kw">c</span>(<span class="st">&#39;sr&#39;</span>, <span class="st">&#39;pop15&#39;</span>, <span class="st">&#39;pop75&#39;</span>),</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="dt">nonsensename2 =</span> <span class="kw">c</span>(<span class="st">&#39;numeric aggregate personal savings&#39;</span>,</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="st">&#39;numeric % of population under 15&#39;</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="st">&#39;numeric % of population over 75&#39;</span>))</span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="kw">st</span>(LifeCycleSavings,<span class="dt">labels=</span>labs)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">numeric aggregate personal savings</td>
<td align="left">50</td>
<td align="left">9.671</td>
<td align="left">4.48</td>
<td align="left">0.6</td>
<td align="left">6.97</td>
<td align="left">12.617</td>
<td align="left">21.1</td>
</tr>
<tr class="even">
<td align="left">numeric % of population under 15</td>
<td align="left">50</td>
<td align="left">35.09</td>
<td align="left">9.152</td>
<td align="left">21.44</td>
<td align="left">26.215</td>
<td align="left">44.065</td>
<td align="left">47.64</td>
</tr>
<tr class="odd">
<td align="left">numeric % of population over 75</td>
<td align="left">50</td>
<td align="left">2.293</td>
<td align="left">1.291</td>
<td align="left">0.56</td>
<td align="left">1.125</td>
<td align="left">3.325</td>
<td align="left">4.7</td>
</tr>
<tr class="even">
<td align="left">dpi</td>
<td align="left">50</td>
<td align="left">1106.758</td>
<td align="left">990.869</td>
<td align="left">88.94</td>
<td align="left">288.207</td>
<td align="left">1795.622</td>
<td align="left">4001.89</td>
</tr>
<tr class="odd">
<td align="left">ddpi</td>
<td align="left">50</td>
<td align="left">3.758</td>
<td align="left">2.87</td>
<td align="left">0.22</td>
<td align="left">2.002</td>
<td align="left">4.477</td>
<td align="left">16.71</td>
</tr>
</tbody>
</table>
</div>
<div id="labels-as-a-one-row-data-set" class="section level3">
<h3><code>labels</code> as a one-row data set</h3>
<p><code>labels</code> can be set to a one-row data set in which the column names are the variable names in <code>data</code> and the first row is the variable names. The <code>labels</code> argument can take any data type including data frame, data table, tibble, or matrix, as long as it has a valid set of variable names stored in the <code>colnames()</code> attribute.</p>
<p>This approach does <strong>not</strong> require that every variable name in <code>data</code> has a matching label.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>labs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">sr =</span> <span class="st">&#39;numeric aggregate personal savings&#39;</span>,</span>
<span id="cb18-2"><a href="#cb18-2"></a>    <span class="dt">pop15 =</span> <span class="st">&#39;numeric % of population under 15&#39;</span>,</span>
<span id="cb18-3"><a href="#cb18-3"></a>    <span class="dt">pop75 =</span> <span class="st">&#39;numeric % of population over 75&#39;</span>)</span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="kw">sumtable</span>(LifeCycleSavings,<span class="dt">labels=</span>labs)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">N</th>
<th align="left">Mean</th>
<th align="left">Std. Dev.</th>
<th align="left">Min</th>
<th align="left">Pctl. 25</th>
<th align="left">Pctl. 75</th>
<th align="left">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">numeric aggregate personal savings</td>
<td align="left">50</td>
<td align="left">9.671</td>
<td align="left">4.48</td>
<td align="left">0.6</td>
<td align="left">6.97</td>
<td align="left">12.617</td>
<td align="left">21.1</td>
</tr>
<tr class="even">
<td align="left">numeric % of population under 15</td>
<td align="left">50</td>
<td align="left">35.09</td>
<td align="left">9.152</td>
<td align="left">21.44</td>
<td align="left">26.215</td>
<td align="left">44.065</td>
<td align="left">47.64</td>
</tr>
<tr class="odd">
<td align="left">numeric % of population over 75</td>
<td align="left">50</td>
<td align="left">2.293</td>
<td align="left">1.291</td>
<td align="left">0.56</td>
<td align="left">1.125</td>
<td align="left">3.325</td>
<td align="left">4.7</td>
</tr>
<tr class="even">
<td align="left">dpi</td>
<td align="left">50</td>
<td align="left">1106.758</td>
<td align="left">990.869</td>
<td align="left">88.94</td>
<td align="left">288.207</td>
<td align="left">1795.622</td>
<td align="left">4001.89</td>
</tr>
<tr class="odd">
<td align="left">ddpi</td>
<td align="left">50</td>
<td align="left">3.758</td>
<td align="left">2.87</td>
<td align="left">0.22</td>
<td align="left">2.002</td>
<td align="left">4.477</td>
<td align="left">16.71</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="title-note-and-anchor" class="section level2">
<h2><code>title</code>, <code>note</code>, and <code>anchor</code></h2>
<p><code>title</code> will include a title for your table.</p>
<p><code>note</code> will add a table note in the last row.</p>
<p><code>anchor</code> will add an anchor ID (<code>&lt;a name =</code> in HTML or <code>\label{}</code> in LaTeX) to allow other parts of your document to link to it, if you are including your <code>sumtable</code> in a larger document.</p>
<p><code>title</code> will only show up in output formats with titles That is, you won’t get them with <code>out = &#39;kable&#39;</code> or <code>out = &#39;return&#39;</code>. <code>note</code> and <code>anchor</code> will only show up in formats that support multi-column cells and anchoring, so they won’t work with <code>out = &#39;kable&#39;</code> or <code>out = &#39;return&#39;</code> either.</p>
</div>
<div id="col.width" class="section level2">
<h2><code>col.width</code></h2>
<p><code>sumtable()</code> will select default column widths by basically just giving the column with the variable name a little more space than the <code>summ</code>-based columns. <code>col.width</code>, as a vector of percentage column widths on the 0-100 scale, will override these defaults.</p>
<p>Doesn’t apply to <code>out = &#39;kable&#39;</code> or <code>out = &#39;return&#39;</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co">#The variable names in this data set are pretty short, and the value labels are</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co">#a little cramped, so let&#39;s move that over.</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="kw">st</span>(LifeCycleSavings,</span>
<span id="cb19-4"><a href="#cb19-4"></a>   <span class="dt">col.width=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="kw">rep</span>(<span class="dv">13</span>,<span class="dv">7</span>)))</span></code></pre></div>
</div>
<div id="col.align" class="section level2">
<h2><code>col.align</code></h2>
<p><code>col.align</code> can be used to adjust text alignment in HTML output. Set to ‘left’, ‘right’, or ‘center’ to align all columns, or give a vector of column alignments to do each column separately.</p>
<p>If you want to get tricky, you can add a semicolon afterwards and keep putting in whatever CSS attributes you want. They will be applied to the whole column.</p>
<p>This option is only for HTML output and will only work with <code>out</code> values of ‘browser’, ‘viewer’, or ‘htmlreturn’.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">st</span>(LifeCycleSavings,<span class="dt">col.align =</span> <span class="st">&#39;right&#39;</span>)</span></code></pre></div>
</div>
<div id="align" class="section level2">
<h2><code>align</code></h2>
<p>This is a single string, used only with LaTeX output (<code>out</code> is ‘latex’ or ‘latexpage’), which will be used as column alignment in standard LaTeX syntax, for example ‘lccc’ for the left column left-aligned and the other three centered. Accepts ‘p{}’ and other LaTeX column types.</p>
<p>Be sure to escape special characters, in particular backslashes.</p>
<p>Defaults to left-aligned ‘Variable’ columns and right-aligned everything else. If <code>col.widths</code> is specified, defaults to ‘p{}’ columns, with widths set by <code>col.width</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">sumtable</span>(iris,<span class="dt">align =</span> <span class="st">&#39;p{.3</span><span class="ch">\\</span><span class="st">textwidth}ccccccc&#39;</span>, <span class="dt">out =</span> <span class="st">&#39;latex&#39;</span>)</span></code></pre></div>
</div>
<div id="opts" class="section level2">
<h2><code>opts</code></h2>
<p>You can create a named list where the names are the above options and the values are the settings for those options, and input it into <code>sumtable</code> using <code>opts=</code>. This is an easy way to set the same options for many <code>sumtable</code>s.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
